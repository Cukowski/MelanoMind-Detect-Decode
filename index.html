<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MelanoMind - Learn & Detect</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar container">
    <h1 class="brand">MelanoMind - Learn & Detect</h1>
    <nav class="nav">
      <button class="btn btn-ghost" id="nav-intro">Intro</button>
      <button class="btn btn-ghost" id="nav-game1">Mole Maker</button>
      <button class="btn btn-ghost" id="nav-game2">DNA Game</button>
    </nav>
  </header>

  <main class="container">
    <!-- INTRO: auto-sliding carousel with controls -->
    <section id="intro" class="section active" aria-label="Intro slides">
      <div class="grid">
        <div class="span-4 sm:span-8 md:span-12 lg:span-12">
          <h2 class="title">Skin Cancer Basics</h2>
          <div class="carousel" aria-roledescription="carousel">
            <div class="track" id="intro-track" style="transform:translateX(0);">
              <!-- Slides injected by JS -->
            </div>
            <div class="controls">
              <button id="intro-prev" class="btn" aria-label="Previous slide">Prev</button>
              <div class="dots" id="intro-dots"></div>
              <button id="intro-next" class="btn" aria-label="Next slide">Next</button>
            </div>
          </div>
          <div class="slides-cta">
            <button class="btn btn-primary" id="to-game1">Start Mole Maker</button>
          </div>
        </div>
      </div>
    </section>

    <!-- GAME 1: Mole Maker (ABCDE) -->
    <section id="game1" class="section" aria-label="ABCDE mole maker game">
      <div class="grid">
        <div class="span-4 sm:span-8 md:span-12 lg:span-12">
          <h2 class="title">Game 1 - Mole Maker (ABCDE)</h2>
          <p class="muted">
            Move the sliders to see how ABCDE affects the mole. Pick a goal and try to reach it.
            (Educational demo - not diagnosis.)
          </p>
        </div>

        <!-- Preview + risk meter -->
        <div class="span-4 sm:span-8 md:span-6 lg:span-6">
          <div class="card mt-8">
            <div class="row between">
              <h3 class="subtitle">Live preview</h3>
              <span class="badge" id="mm-status">Adjust sliders</span>
            </div>

            <div class="moleStage" aria-label="Mole preview area">
              <svg id="moleSvg" viewBox="-120 -120 240 240" role="img" aria-label="Stylized mole">
                <defs>
                  <radialGradient id="moleGrad" cx="35%" cy="30%" r="70%">
                    <stop id="mm-gradA" offset="0%" stop-color="#6b3e2e"/>
                    <stop id="mm-gradB" offset="70%" stop-color="#3a2017"/>
                    <stop id="mm-gradC" offset="100%" stop-color="#1f120d"/>
                  </radialGradient>

                  <filter id="softShadow" x="-40%" y="-40%" width="180%" height="180%">
                    <feDropShadow dx="0" dy="6" stdDeviation="6" flood-opacity="0.25"/>
                  </filter>
                </defs>

                <circle r="110" fill="rgba(255,255,255,0.65)"></circle>

                <path id="mm-path" fill="url(#moleGrad)" filter="url(#softShadow)"></path>
                <g id="mm-speckles"></g>
                <path id="mm-stroke" fill="none" stroke="rgba(20,10,8,0.45)" stroke-width="2"></path>
              </svg>
            </div>

            <div class="meter mt-8">
              <div class="row between">
                <div>
                  <div class="label">Risk meter</div>
                  <div class="muted" id="mm-riskText">-</div>
                </div>
                <label class="pill">Goal:
                  <select id="mm-goal">
                    <option value="benign">Make it benign</option>
                    <option value="suspicious">Make it suspicious</option>
                  </select>
                </label>
              </div>

              <div class="bar" aria-label="Risk meter bar">
                <div class="fill" id="mm-riskFill"></div>
              </div>

              <div class="hint" id="mm-hint" aria-live="polite"></div>

              <div class="row gap">
                <button class="btn btn-ghost" id="mm-randomize">Randomize</button>
                <button class="btn btn-primary" id="mm-check">Check</button>
              </div>

              <div class="slides-cta">
                <button class="btn btn-primary" id="to-game2">Continue to DNA Game</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Controls + ABCDE guide -->
        <div class="span-4 sm:span-8 md:span-6 lg:span-6">
          <div class="card mt-8">
            <h3 class="subtitle">ABCDE controls</h3>

            <div class="control">
              <div class="row between">
                <label for="mm-a">A - Asymmetry</label>
                <span class="muted" id="mm-aVal">20%</span>
              </div>
              <input id="mm-a" type="range" min="0" max="100" value="20" />
              <p class="muted">Higher = one side differs more.</p>
            </div>

            <div class="control">
              <div class="row between">
                <label for="mm-b">B - Border irregularity</label>
                <span class="muted" id="mm-bVal">25%</span>
              </div>
              <input id="mm-b" type="range" min="0" max="100" value="25" />
              <p class="muted">Higher = jagged/uneven outline.</p>
            </div>

            <div class="control">
              <div class="row between">
                <label for="mm-c">C - Color variation</label>
                <span class="muted" id="mm-cVal">20%</span>
              </div>
              <input id="mm-c" type="range" min="0" max="100" value="20" />
              <p class="muted">Higher = more shades + speckles.</p>
            </div>

            <div class="control">
              <div class="row between">
                <label for="mm-d">D - Diameter (size)</label>
                <span class="muted" id="mm-dVal">35%</span>
              </div>
              <input id="mm-d" type="range" min="0" max="100" value="35" />
              <p class="muted">Higher = larger mole.</p>
            </div>

            <div class="control">
              <div class="row between">
                <label for="mm-e">E - Evolution (change)</label>
                <span class="muted" id="mm-eVal">10%</span>
              </div>
              <input id="mm-e" type="range" min="0" max="100" value="10" />
              <p class="muted">Higher = subtle “changing” wiggle.</p>
            </div>

            <details class="mt-8">
              <summary class="muted">ABCDE guide (quick reminder)</summary>
              <ul class="abcde">
                <li><b>A</b>symmetry - one half doesn’t match the other</li>
                <li><b>B</b>order - irregular or jagged edges</li>
                <li><b>C</b>olor - multiple shades/uneven distribution</li>
                <li><b>D</b>iameter - larger than ~6 mm</li>
                <li><b>E</b>volution - changing size/shape/color</li>
              </ul>
            </details>
          </div>
        </div>
      </div>
    </section>

    <!-- GAME 2: DNA mismatch -->
    <section id="game2" class="section" aria-label="DNA mismatch game">
      <div class="grid">
        <div class="span-4 sm:span-8 md:span-12 lg:span-12">
          <h2 class="title">Game 2 - DNA Mismatch Finder</h2>

          <figure class="explain-figure card mt-8">
            <img src="images/dna_explainer.png" alt="DNA double helix and base pairing" />
            <figcaption class="muted">
              DNA is made of base pairs: A pairs with T using two hydrogen bonds, and G pairs with C using three.
              Cancer arises from many causes (UV damage, replication errors, environmental factors).
              One pathway is through DNA mutations that change how cells grow and divide.
              In this class exercise, we focus on one simplified idea: <b>mispairing</b> - bases paired incorrectly
              (or shown with the wrong number of bonds).
            </figcaption>
          </figure>
        </div>

        <div class="span-4 sm:span-8 md:span-12 lg:span-12">
          <div class="row between mt-8">
            <div class="muted">Find all anomalies, then submit.</div>
            <div class="row gap">
              <span class="muted">Score: <span id="g2-score">0</span></span>
              <button class="btn btn-ghost" id="g2-hint">Hint (-3)</button>
              <button class="btn btn-primary" id="g2-submit">Submit</button>
            </div>
          </div>

          <div id="dna-board" class="dna mt-8" aria-label="DNA pairs board"></div>
        </div>

        <div class="span-4 sm:span-8 md:span-12 lg:span-12">
          <figure class="explain-figure mt-8">
            <img src="images/dna-base-mutations-adenine-thymine-cytosine-guanine.jpg" alt="Base letters and mutation concept" />
            <figcaption class="muted">
              Visualizing base letters (A, T, G, C). In our game, mismatches or wrong bond counts are highlighted
              to practice the concept.
            </figcaption>
          </figure>

          <div id="g2-summary" class="card mt-8"></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="foot muted">
    Educational demo only - not a medical device or diagnostic tool.
  </footer>

  <script src="game.js"></script>
  <script src="mole-maker.js"></script>
</body>
</html>
